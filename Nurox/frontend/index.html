<!DOCTYPE html>
<html>
<head>
<title>NUROX V6.3 Intelligence Platform</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
margin:0;
font-family:'Inter',sans-serif;
background:linear-gradient(135deg,#0f172a,#020617);
color:#e2e8f0;
}

.container{
max-width:1100px;
margin:auto;
padding:60px 20px;
}

h1{
text-align:center;
font-size:40px;
font-weight:800;
margin-bottom:10px;
}

.subtitle{
text-align:center;
color:#94a3b8;
margin-bottom:40px;
}

textarea{
width:100%;
height:150px;
padding:20px;
border-radius:16px;
border:none;
background:#1e293b;
color:white;
font-size:16px;
outline:none;
}

button{
margin-top:25px;
padding:16px 40px;
border:none;
border-radius:14px;
background:linear-gradient(135deg,#22c55e,#16a34a);
color:white;
font-weight:700;
cursor:pointer;
font-size:16px;
transition:0.3s;
}

button:hover{
transform:scale(1.05);
}

.card{
background:rgba(30,41,59,0.85);
padding:30px;
margin-top:30px;
border-radius:22px;
box-shadow:0 20px 50px rgba(0,0,0,0.5);
}

.section-title{
font-size:20px;
font-weight:700;
margin-bottom:15px;
}

.card strong{
color:#22c55e;
}

.badge{
display:inline-block;
padding:8px 16px;
border-radius:30px;
font-size:14px;
font-weight:600;
}

.quant{background:#15803d;}
.general{background:#2563eb;}
</style>
</head>

<body>

<div class="container">

<h1>üöÄ NUROX V6.3</h1>
<div class="subtitle">Intelligence Debate & Quant Platform</div>

<textarea id="question" placeholder="Enter your question..."></textarea>
<button onclick="runDebate()">Analyze</button>

<div id="results"></div>

<canvas id="equityChart" style="margin-top:40px;"></canvas>

</div>

<script>
async function runDebate(){

const question=document.getElementById("question").value;

const response=await fetch("http://127.0.0.1:8000/debate",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({question})
});

const data=await response.json();

let html="";

html+=`<div class="card">
<div class="section-title">üß≠ Mode</div>
<span class="badge ${data.mode}">${data.mode.toUpperCase()}</span>
</div>`;

data.transcript.forEach(msg=>{
html+=`<div class="card">
<div class="section-title">${msg.role}</div>
${marked.parse(msg.content)}
</div>`;
});

if(data.deterministic)
html+=`<div class="card">
<div class="section-title">üéØ Deterministic Analysis</div>
${marked.parse(data.deterministic)}
</div>`;

if(data.simulation)
html+=`<div class="card">
<div class="section-title">üìä Simulation</div>
${marked.parse(data.simulation)}
</div>`;

if(data.risk_alerts)
html+=`<div class="card">
<div class="section-title">‚ö† Risk Alerts</div>
${marked.parse(data.risk_alerts)}
</div>`;

html+=`<div class="card">
<div class="section-title">üèÅ Final Decision</div>
${marked.parse(data.final_answer)}
</div>`;

html+=`<div class="card">
<div class="section-title">‚öñ Authority</div>
${data.authority}
</div>`;

html+=`<div class="card">
<div class="section-title">üìà Confidence</div>
${data.confidence}
</div>`;

document.getElementById("results").innerHTML=html;
}
</script>

</body>
</html>